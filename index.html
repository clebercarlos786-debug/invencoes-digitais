<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GÃŠNIO S94 | ENGINE GOSKIP REAL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #000; color: #00ff88; font-family: 'Inter', sans-serif; overflow: hidden; }
        .sidebar { width: 380px; border-right: 1px solid #222; background: #050505; height: 100vh; }
        .glass { background: rgba(15, 15, 15, 0.9); border: 1px solid #222; }
    </style>
</head>
<body class="flex">

    <!-- BARRA LATERAL DE COMANDO -->
    <aside class="sidebar p-6 flex flex-col gap-5 shadow-2xl">
        <h1 class="font-black text-2xl tracking-tighter italic">GÃŠNIO <span class="text-white">S94</span></h1>
        
        <div class="flex flex-col gap-1">
            <label class="text-[10px] text-gray-500 font-bold uppercase">Chave API Gratuita (Groq Cloud)</label>
            <input id="api-key" type="password" class="bg-black border border-[#333] p-3 text-xs text-white rounded outline-none focus:border-[#00ff88]" placeholder="Cole sua chave da Groq aqui...">
            <a href="https://console.groq.com" target="_blank" class="text-[9px] text-blue-500 underline">Pegar chave grÃ¡tis aqui</a>
        </div>

        <div class="flex-1 flex flex-col gap-2">
            <label class="text-[10px] text-gray-500 font-bold uppercase">Prompt Neural</label>
            <textarea id="user-prompt" class="flex-1 bg-[#0f0f0f] border border-[#222] p-4 text-sm text-white rounded-lg outline-none focus:border-[#00ff88] resize-none" 
            placeholder="Ex: Crie um app de controle de estoque com grÃ¡ficos e modo escuro..."></textarea>
        </div>

        <button onclick="gerarSoftware()" class="bg-[#00ff88] text-black font-black py-4 rounded-xl hover:scale-[1.02] active:scale-95 transition-all shadow-[0_0_30px_rgba(0,255,136,0.2)]">
            GERAR SOFTWARE REAL ðŸš€
        </button>

        <div id="status-log" class="h-28 bg-black text-[10px] p-3 font-mono text-gray-600 border border-[#111] overflow-y-auto rounded-lg">
            > SISTEMA EM STANDBY (RAYO-POWER)...
        </div>
    </aside>

    <!-- ÃREA DE EXECUÃ‡ÃƒO (O WEB-CONTAINER) -->
    <main id="sandbox-root" class="flex-1 bg-[#0a0a0a] relative">
        <div class="h-full w-full flex items-center justify-center text-gray-800 uppercase text-[10px] tracking-[0.5em]">
            Aguardando InjeÃ§Ã£o de CÃ³digo do Ciclope S94
        </div>
    </main>

    <!-- MOTOR DE ELITE (REACT + SANDPACK) -->
    <script type="module">
        import React from "https://esm.sh";
        import ReactDOM from "https://esm.sh";
        import { Sandpack } from "https://esm.sh";

        let root = null;

        window.gerarSoftware = async () => {
            const prompt = document.getElementById('user-prompt').value;
            const key = document.getElementById('api-key').value;
            const log = document.getElementById('status-log');

            if(!key || !prompt) return alert("Insira a Chave API e o Prompt!");

            log.innerHTML += `<br><span class="text-blue-400">[${new Date().toLocaleTimeString()}] Consultando Groq Cloud Llama-3...</span>`;

            try {
                // CHAMADA REAL PARA API (FIM DA CASCA)
                const response = await fetch("https://api.groq.com", {
                    method: "POST",
                    headers: { "Authorization": `Bearer ${key}`, "Content-Type": "application/json" },
                    body: JSON.stringify({
                        model: "llama3-70b-8192", // Modelo potente
                        messages: [
                            { role: "system", content: "VocÃª Ã© o motor do Goskip. Retorne APENAS o cÃ³digo de um arquivo App.js funcional usando React e Tailwind CSS. NÃ£o use markdown (```), apenas o cÃ³digo puro." },
                            { role: "user", content: prompt }
                        ]
                    })
                });

                const data = await response.json();
                const code = data.choices[0].message.content.trim();

                const container = document.getElementById('sandbox-root');
                if (!root) root = ReactDOM.createRoot(container);

                // INJETANDO NO MOTOR SANDPACK (IGUAL AO GOSKIP)
                root.render(React.createElement(Sandpack, {
                    template: "react",
                    theme: "dark",
                    files: { "/App.js": code },
                    options: { 
                        externalResources: ["https://cdn.tailwindcss.com"],
                        showNavigator: true,
                        editorHeight: "100%"
                    }
                }));

                log.innerHTML += `<br><span class="text-[#00ff88]">[${new Date().toLocaleTimeString()}] SUCESSO: SOFTWARE ONLINE!</span>`;
            } catch (error) {
                log.innerHTML += `<br><span class="text-red-500">[${new Date().toLocaleTimeString()}] ERRO: Verifique a Chave API.</span>`;
            }
        };
    </script>
</body>
</html>
